{% extends 'store/base.html' %}
{% load static %}
{% load form_filters %}

{% block content %}
<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-10">
      <div class="card shadow-lg p-4">
        <div class="d-flex align-items-center mb-4">
          <i class="fas fa-user-circle fa-2x me-2 text-primary"></i>
          <h3 class="mb-0">Your Profile</h3>
        </div>

        <form method="POST" enctype="multipart/form-data">
          {% csrf_token %}
          <div class="row g-4">
            <!-- Profile Image -->
            <div class="col-md-4 text-center">
              {% if profile.profile_image %}
                <img src="{{ profile.profile_image.url }}" alt="Profile Image"
                     class="img-fluid rounded shadow-sm mb-3" style="max-height: 250px;">
              {% else %}
                <img src="{% static 'store/images/default-profile.png' %}" alt="Default Image"
                     class="img-fluid rounded shadow-sm mb-3" style="max-height: 250px;">
              {% endif %}
              <div class="mb-2">
                <label class="form-label text-muted small">Change profile image:</label>
                {{ form.profile_image }}
              </div>
            </div>

            <!-- User Info Form -->
            <div class="col-md-8">
              <div class="mb-3">
                <label class="form-label fw-semibold">Phone:</label>
                {{ form.phone|add_class:"form-control" }}
              </div>

              <div class="mb-3">
                <label class="form-label fw-semibold">Address:</label>
                {{ form.address|add_class:"form-control" }}
              </div>

              <div class="row">
                <div class="col-md-6 mb-3">
                  <label class="form-label fw-semibold">City:</label>
                  {{ form.city|add_class:"form-control" }}
                </div>
                <div class="col-md-6 mb-3">
                  <label class="form-label fw-semibold">Postal Code:</label>
                  {{ form.postal_code|add_class:"form-control" }}
                </div>
              </div>

              <div class="mt-3">
                <button type="submit" class="btn btn-primary px-4">
                  <i class="fas fa-save me-1"></i> Update Profile
                </button>
              </div>
            </div>
          </div>
        </form>

      </div>
    </div>
  </div>
</div>
{% endblock %}
