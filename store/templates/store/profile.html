{% extends 'store/base.html' %}
{% load static %}
{% load form_filters %}

{% block content %}
<div class="container py-5">
  <div class="row mb-4">
    <div class="col-md-12 text-center">
      <h2 class="fw-bold"><i class="fas fa-user-circle me-2"></i> My Profile</h2>
      <p class="text-muted">Manage your personal information, address, and preferences.</p>
    </div>
  </div>

  <form method="POST" enctype="multipart/form-data" class="row g-4 bg-light shadow p-4 rounded">
    {% csrf_token %}

    <!-- Left Column: Profile Image -->
    <div class="col-md-4 text-center">
      <img src="{{ profile.profile_image.url }}" alt="Profile" class="img-fluid rounded-circle shadow" style="width: 200px; height: 200px; object-fit: cover;">
      <div class="mt-3">
        <label class="form-label small">Change profile image:</label>
        {{ form.profile_image|add_class:"form-control" }}
      </div>
    </div>

    <!-- Right Column: Form Inputs -->
    <div class="col-md-8">
      <div class="row g-3">
        <div class="col-md-6">
          <label class="form-label">Full Name</label>
          <input type="text" class="form-control" value="{{ user.get_full_name }}" disabled>
        </div>
        <div class="col-md-6">
          <label class="form-label">Email</label>
          <input type="email" class="form-control" value="{{ user.email }}" disabled>
        </div>

        <div class="col-md-6">
          <label class="form-label">Phone</label>
          {{ form.phone|add_class:"form-control" }}
        </div>

        <div class="col-md-6">
          <label class="form-label">Alternate Phone</label>
          <input type="text" name="alternate_phone" class="form-control" placeholder="Optional">
        </div>

        <div class="col-md-12">
          <label class="form-label">Address</label>
          {{ form.address|add_class:"form-control" }}
        </div>

        <div class="col-md-6">
          <label class="form-label">City</label>
          {{ form.city|add_class:"form-control" }}
        </div>

        <div class="col-md-6">
          <label class="form-label">Postal Code</label>
          {{ form.postal_code|add_class:"form-control" }}
        </div>

        <div class="col-md-6">
          <label class="form-label">Country</label>
          <select class="form-select" name="country">
            <option>Sri Lanka</option>
            <option>India</option>
            <option>UAE</option>
            <option>UK</option>
            <option>USA</option>
          </select>
        </div>

        <div class="col-md-6">
          <label class="form-label">Preferred Payment Method</label>
          <select class="form-select" name="payment_method">
            <option>Cash on Delivery</option>
            <option>Credit Card</option>
            <option>Bank Transfer</option>
            <option>Mobile Payment</option>
          </select>
        </div>

        <div class="col-12 d-grid mt-4">
          <button type="submit" class="btn btn-primary btn-lg">Update Profile</button>
        </div>
      </div>
    </div>
  </form>
</div>
{% endblock %}
